<main>
    <h1 class="display-3 text-center my-2">Edition de mon compte</h1>
    <?php if($messages->exist()) : ?>
    <div class="alert alert-danger alert-dismissible col-sm-11 col-md-6 col-lg-6 col-xl-6 mx-auto">
        <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
        <h4 class="alert-heading">Des erreurs ont été détéctés</h4>
        <?php foreach ($messages->getAndDelete() as $error) : ?>
        <hr>
        <p><?=$error?></p>
        <?php endforeach; ?>
    </div>
    <?php endif; ?>
    <div class="row">
        <div class="bg-dark text-light py-4 px-5 rounded col-sm-11 col-md-6 col-lg-6 col-xl-6 mx-auto my-3">
            <form action="" method="post">
                <div class="form-group  mt-2">
                    <label for="firstName">Prénom*</label>
                    <input type="text" id="firstName" name="firstName" class="form-control"
                        value="<?=$me->get('firstName')?>">
                </div>
                <div class="form-group  mt-2">
                    <label for="lastName">Nom*</label>
                    <input type="text" id="lastName" name="lastName" class="form-control"
                        value="<?=$me->get('lastName')?>">
                </div>
                <div class="form-group  mt-2">
                    <label for="birthdayAt">Date de naissance</label>
                    <input type="date" id="birthdayAt" name="birthdayAt" class="form-control"
                        value="<?=$me->get('birthdayAt') instanceof \DateTime ? $me->get('birthdayAt')->format("Y-m-d") : "" ?>">
                </div>
                <div class="form-group  mt-2">
                    <label for="phone">Téléphone</label>
                    <input type="text" id="phone" name="phone" class="form-control" value="<?=$me->get('phone')?>">
                </div>
                <div class="form-group  mt-2">
                    <label for="specialityId">Specialité</label>
                    <select class="form-select" name="specialityId" id="specialityId">
                        <?php foreach($specialities as $speciality): ?>
                        <option value=" <?=$speciality->get('id') ?>"
                            <?=$me->get('specialityId') && $me->get('specialityId') === $speciality->get('id') ? "selected": null ?>>
                            <?=$speciality->get('name') ?>
                        </option>
                        <?php endforeach; ?>
                    </select>
                </div>
                <div class="form-group  mt-2">
                    <label for="email">Email*</label>
                    <input type="text" id="email" name="email" class="form-control" value="<?=$me->get('email')?>">
                </div>
                <div class="form-group mt-3">
                    <label for="password">Mot de passe*</label>
                    <input type="password" id="password" name="password" class="form-control mt-2"
                        placeholder="***********">
                    <small class="float-start mt-1" style="font-size:x-small">* 8 caractères, 1 majuscule, 1
                        minuscule, 1 caractère spéciale
                        et 1 chiffre au minimum
                    </small>
                </div>


                <input type="submit" value="<?=$editMode ? "Mettre à jour" : "Ajouter" ;?>"
                    class="btn btn-primary mx-auto my-3 mt-5 w-100">
            </form>
        </div>
    </div>
</main>
